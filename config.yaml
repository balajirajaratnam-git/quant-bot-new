strategy:
  name: IG_Quant_Run_v2
  universe:
  - QQQ
  rsi_period: 14
  sma_period: 200
  rsi_entry_threshold: 28
  rsi_exit_threshold: 45
  regime_filter: BULL_STABLE
  min_signal_strength: 50
risk:
  initial_capital: 100000.0
  max_slots: 2
  max_drawdown_limit: 0.15
  per_slot_margin_fraction: 0.15
  min_free_margin_buffer: 0.1
  allow_shorting: false
  risk_per_trade_fraction: 0.005
  atr_stop_mult: 1.5
  atr_take_profit_mult: 2.0
  max_hold_days: 10
  avoid_same_group: true
  trailing_stop:
    enabled: true
    activation_atr_mult: 1.0
    trail_atr_mult: 1.2
  adverse_exit:
    enabled: true
    min_days: 3
    rsi_recovered_threshold: 40
costs:
  annual_funding_rate: 0.05
  weekend_multiplier: 3
  adaptive_spread_k: 0.1
  commission_fixed: 0.0
vault:
  output_path: vault/runs
live:
  acc_type: DEMO
  allow_live: false
  api_key: ${IG_API_KEY:}
  username: ${IG_USERNAME:}
  password: ${IG_PASSWORD:}
  acc_number: ${IG_ACCOUNT_ID:}
  currency_code: GBP
  expiry: DFB
  resolution: DAY
  lookback_points: 450
  rate_limit:
    min_interval_seconds: 3.0
    cooldown_seconds_on_exceeded: 75.0
    max_retries: 1
  history_cache:
    enabled: true
    dir: vault/cache/ig_history
    max_age_hours: 168.0
    refresh_tail_numpoints: 10
  api_budget:
    max_history_calls_per_run: 1
  allow_yfinance_history_fallback: true
  dry_run: true
  state_path: vault/live_state/state.json
